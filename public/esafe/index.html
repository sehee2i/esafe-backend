<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>E-safe Template</title>
  <link rel="stylesheet" href="style.css">
  <!-- head 안에 추가 -->
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap"
    rel="stylesheet" />
</head>
<body>
  <!-- ===== 헤더 ===== -->
  <header class="header-bar">
    <!-- background-image div 삭제 -->
    <div class="header-content container">
       <!-- ① 로고 이미지 삽입 -->
       <img src="E-safelogo.jpg"
           alt="E-safe logo"
           class="logo-img">
      <h1 class="logo">E - safe</h1>
      <nav class="nav">
        <a href="index.html" class="nav-btn">HOME</a>
        <a href="page3.html" class="nav-btn">폭우 취약 동네 TOP5</a>
        <a href="page4.html" class="nav-btn">AI 요약 살펴보기</a>
      </nav>
    </div>
  </header>

  <!-- ===== 본문 (페이지별로 내용 교체) ===== -->
  <main class="page container">
    <h2>E-safe </h2>
    <p>뉴스로 보는 동네 재난 예방 플랫폼</p>
  <!-- SVG 임베드: 파일을 같은 폴더에 두고 상대경로로 로드합니다 -->
  <div class="svg-container">
    <object id="gwangju-map" type="image/svg+xml" data="Gwangju-Administrative_divisions-ko.svg" class="map-object" aria-label="광주 행정구역 지도">
      SVG를 지원하지 않는 브라우저입니다.
    </object>
  <!-- 지도 하단 중앙의 더보기 버튼 -->
  <a class="map-more-btn" href="page3.html" aria-label="더 자세히 보러가기">더 자세히 보러가기</a>
  </div>
  
  <script>
    // 버튼과 같은 시각 효과를 SVG 내부 각 도형에 적용합니다.
    (function(){
      const obj = document.getElementById('gwangju-map');
      if (!obj) return;
      obj.addEventListener('load', () => {
        const svgDoc = obj.contentDocument;
        if (!svgDoc) return; // 보안/파일:// 환경에서 접근 불가할 수 있음
        const svg = svgDoc.querySelector('svg');
        if (!svg) return;

        // 삽입할 스타일: .quick-access-btn hover 효과를 SVG 도형으로 모사
        const style = svgDoc.createElementNS('http://www.w3.org/1999/xhtml', 'style');
        style.textContent = `
          .region {
            transition: transform 0.22s ease, fill 0.16s ease, filter 0.22s ease, opacity 0.16s ease;
            cursor: pointer;
            transform-box: fill-box;
            transform-origin: center;
          }
          .region.hovered {
            fill: #d4e9ff !important;
            transform: translateY(-2px);
            filter: drop-shadow(0 6px 18px rgba(0,0,0,0.12));
            opacity: 0.98 !important;
          }
        `;
        // style은 SVG 네임스페이스 안에 넣어야 하므로 <style>를 svg에 추가
        const foreign = svgDoc.createElementNS(svg.namespaceURI, 'style');
        foreign.textContent = style.textContent;
        svg.insertBefore(foreign, svg.firstChild);

        // 선택할 도형들: path, polygon, rect, circle, ellipse
        const candidates = svg.querySelectorAll('path, polygon, rect, circle, ellipse');
        const vb = svg.viewBox && svg.viewBox.baseVal ? svg.viewBox.baseVal : null;
        const maxCheck = vb ? Math.max(vb.width, vb.height) : null;

        candidates.forEach(el => {
          // 건너뛸 요소: 너무 큰 배경 rect 등
          try {
            if (vb) {
              const bb = el.getBBox();
              if (bb.width > (vb.width||maxCheck) * 0.95 && bb.height > (vb.height||maxCheck) * 0.95) return;
            }
          } catch (e) {
            // getBBox 실패 시 무시하고 진행
          }

          // 적용
          el.classList.add('region');
          el.addEventListener('mouseenter', () => el.classList.add('hovered'));
          el.addEventListener('mouseleave', () => el.classList.remove('hovered'));
          // 터치 디바이스 간단 지원
          el.addEventListener('touchstart', () => el.classList.add('hovered'));
          el.addEventListener('touchend', () => el.classList.remove('hovered'));
        });
      });
    })();
  </script>
  <!-- hover 툴팁 기능 제거됨 -->
  </main>
</body>
</html>
